# Enable pbcopy & pbpaste
# $ brew install reattach-to-user-namespace
# Otherwise tmux will exit without error messages
set-option -g default-command "reattach-to-user-namespace -l bash"

# Remap prefix to Control + s
set -g prefix C-s
unbind-key C-b
bind-key C-s send-prefix

# Force a reload of the config file
unbind-key r
bind-key r source-file ~/.tmux.conf

# Quick pane cycling
# Double Ctrl+S cycles panes in a window
unbind-key ^S
bind-key ^S select-pane -t :.+

# 256 Color
set -g default-terminal "screen-256color"

# Use vim keybindings in copy mode
setw -g mode-keys vi

# Setup 'v' to begin selection as in Vim
bind-key -t vi-copy v begin-selection
bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"

# Update default binding of `Enter` to also use copy-pipe
unbind-key -t vi-copy Enter
bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"

# Open new window with current directory
unbind-key '"'
unbind-key %
unbind-key c
bind-key '"' split-window -c "#{pane_current_path}"
bind-key % split-window -h -c "#{pane_current_path}"
bind-key c new-window -c "${pane_current_path}"

# Remove delay for ESC key
# http://unix.stackexchange.com/questions/23138/esc-key-causes-a-small-delay-in-terminal-due-to-its-alt-behavior
set -s escape-time 0

# Prevent tmux from exiting with Ctrl+D
# https://superuser.com/questions/479600/how-can-i-prevent-tmux-exiting-with-ctrl-d/1048864
set-environment -g 'IGNOREEOF' 10
