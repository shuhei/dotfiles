#!/usr/bin/env bash

if [ -z "$1" ]; then
  echo "Input vim file plugin name!"
  exit 1
fi

submodule_name=".vim/bundle/$1"
submodule_path="$(git config --file .gitmodules --get "submodule.$submodule_name.path")"

if [ ! -d "$submodule_name" ]; then
  echo "$submodule_name does not exit!"
  exit 1
fi

git rm --cached "$submodule_path"
rm -rf $submodule_path
git config --file .gitmodules --remove-section "submodule.$submodule_name"
